{"is_source_file": true, "format": "JavaScript", "description": "This file provides a minimal API client for a web application's backend, handling authentication, document management, search, job status, and administrative endpoints. It includes functions for making HTTP requests, normalizing responses, and exporting methods for various API operations.", "external_files": ["fetch", "localStorage"], "external_methods": ["fetch", "localStorage.getItem"], "published": ["api"], "classes": [], "methods": [{"name": "request(path, { method = 'GET', headers = {}, body, isForm = false } = {})", "description": "Core function to perform HTTP requests with automatic handling of headers, JSON/form data, and response parsing.", "scope": "", "scopeKind": ""}, {"name": "normalizeArrayResponse(resp)", "description": "Function to normalize backend responses that may be arrays or wrapped objects, returning an array.", "scope": "", "scopeKind": ""}, {"name": "api.login", "description": "Authenticate a user with email and password, returning an access token."}, {"name": "api.getProfile", "description": "Retrieve a user profile, fallback to minimal info if not available."}, {"name": "api.uploadDocument", "description": "Upload a document file with optional metadata, supporting multipart/form-data."}, {"name": "api.listDocuments", "description": "Retrieve a list of documents with optional search query and pagination."}, {"name": "api.getDocument", "description": "Fetch a specific document by ID."}, {"name": "api.getDocumentVersions", "description": "Retrieve all versions of a specific document."}, {"name": "api.getVersion", "description": "Fetch a specific version of a document."}, {"name": "api.search", "description": "Search documents with query parameters like q, category, tag, limit, and offset."}, {"name": "api.listJobs", "description": "Retrieve a list of jobs, possibly filtered by status and paginated."}, {"name": "api.getJob", "description": "Get details of a specific job by ID."}, {"name": "api.listAllDocuments", "description": "Admin endpoint to list all documents."}, {"name": "api.listAllJobs", "description": "Admin endpoint to list all jobs."}], "calls": ["fetch", "localStorage.getItem", "JSON.stringify", "res.headers.get", "res.json", "res.text", "localStorage.getItem"], "search-terms": ["API client", "HTTP request wrapper", "backend endpoints", "document upload", "search API", "admin endpoints", "authorization"], "state": 2, "file_id": 13, "knowledge_revision": 62, "git_revision": "3df29bc0cc2df2f6127cf6a431a6c1468691a313", "revision_history": [{"31": ""}, {"62": "3df29bc0cc2df2f6127cf6a431a6c1468691a313"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http:\\/\\/localhost:5000';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "derivedTitle", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const derivedTitle = metadata.title || file.name || 'Document';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const email = localStorage.getItem('auth_email');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const form = new FormData();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDocument", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  getDocument: (id) => request(`\\/documents\\/${id}`, { method: 'GET' }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDocumentVersions", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  getDocumentVersions: async (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getJob", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  getJob: (id) => request(`\\/jobs\\/${id}`, { method: 'GET' }),$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getProfile", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  getProfile: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getVersion", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  getVersion: (docId, versionId) => request(`\\/documents\\/${docId}\\/versions\\/${versionId}`, { m/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listAllDocuments", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  listAllDocuments: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listAllJobs", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  listAllJobs: async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listDocuments", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  listDocuments: async (page = 1, q = '') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listJobs", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  listJobs: async (status = '', page = 1) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  login: async (email, password) => {$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeArrayResponse", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^function normalizeArrayResponse(resp) {$/", "language": "JavaScript", "kind": "function", "signature": "(resp)"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const params = new URLSearchParams({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const path = params.toString() ? `\\/jobs?${params.toString()}` : '\\/jobs';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const path = query.toString() ? `\\/documents?${query.toString()}` : '\\/documents';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const query = new URLSearchParams({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^async function request(path, { method = 'GET', headers = {}, body, isForm = false } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', headers = {}, body, isForm = false } = {})"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const resp = await request('\\/admin\\/documents', { method: 'GET' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const resp = await request('\\/admin\\/jobs', { method: 'GET' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const resp = await request(`\\/documents\\/${id}\\/versions`, { method: 'GET' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const resp = await request(`\\/search${query ? `?${query}` : ''}`, { method: 'GET' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const resp = await request(path, { method: 'GET' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  search: async (params) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "supported", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const supported = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^    const tags = metadata.tags$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "uploadDocument", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18827/intelligent_receipt_processing_frontend/src/services/api.js", "pattern": "/^  uploadDocument: (file, metadata = {}) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "211d4bc45d3e1f0b1b3e709a56e0c630", "format-version": 4, "code-base-name": "intelligent_receipt_processing_frontend", "filename": "intelligent_receipt_processing_frontend/src/services/api.js", "fields": [{"name": "login: async (email, password) => {", "scope": "api", "scopeKind": "class", "description": "unavailable"}]}